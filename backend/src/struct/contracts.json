{
  "version": "1.0.0",
  "stages": {
    "S0_INPUT": {
      "id": "S0_INPUT",
      "name": "Input & Metadata",
      "contracts": [
        {
          "id": "S0_SESSION_FORMAT",
          "stage_id": "S0_INPUT",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "session",
          "metrics": {
            "samplerate_hz": 48000,
            "bit_depth_internal": 32,
            "max_peak_dbfs": 0.0
          },
          "limits": {
            "allow_sample_rate_conversion": true,
            "allow_bit_depth_conversion": true
          }
        }
      ]
    },
    "S1_TECH_PREP": {
      "id": "S1_TECH_PREP",
      "name": "Technical Preparation",
      "contracts": [
        {
          "id": "S1_STEM_DC_OFFSET",
          "stage_id": "S1_TECH_PREP",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "dc_offset_max_db": -60.0,
            "true_peak_max_dbtp": -3.0
          },
          "limits": {
            "max_gain_change_db_per_pass": 3.0
          }
        },
        {
          "id": "S1_STEM_WORKING_LOUDNESS",
          "stage_id": "S1_TECH_PREP",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "use_instrument_profile_work_loudness": true
          },
          "limits": {
            "max_gain_change_db_per_pass": 6.0
          }
        },
        {
          "id": "S1_KEY_DETECTION",
          "stage_id": "S1_TECH_PREP",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "session",
          "metrics": {},
          "limits": {}
        },
        {
          "id": "S1_VOX_TUNING",
          "stage_id": "S1_TECH_PREP",
          "instrument_id": "Lead_Vocal_Melodic",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "pitch_cents_max_deviation": 50.0,
            "tuning_strength_0_1": 0.1
          },
          "limits": {
            "max_pitch_shift_semitones": 1.0
          }
        },
        {
          "id": "S1_MIXBUS_HEADROOM",
          "stage_id": "S1_TECH_PREP",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "mixbus",
          "metrics": {
            "peak_dbfs_min": -12.0,
            "peak_dbfs_max": -6.0
          },
          "limits": {
            "max_gain_change_db_per_pass": 3.0
          }
        }
      ]  
    },
    "S2_PHASE_ALIGNMENT": {
      "id": "S2_PHASE_ALIGNMENT",
      "name": "Phase & Polarity Alignment",
      "contracts": [
        {
          "id": "S2_GROUP_PHASE_DRUMS",
          "stage_id": "S2_PHASE_ALIGNMENT",
          "instrument_id": "Kick",
          "style_id": "*",
          "target_scope": "bus",
          "metrics": {
            "target_family": "Drums",
            "correlation_min": 0.0
          },
          "limits": {
            "max_time_shift_ms": 2.0,
            "allow_polarity_flip": true
          }
        }
      ]
    },
    "S3_STATIC_MIX": {
      "id": "S3_STATIC_MIX",
      "name": "Static Mix & Routing",
      "contracts": [
        {
          "id": "S3_MIXBUS_HEADROOM",
          "stage_id": "S3_STATIC_MIX",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "mixbus",
          "metrics": {
            "peak_dbfs_min": -12.0,
            "peak_dbfs_max": -6.0,
            "lufs_integrated_min": -28.0,
            "lufs_integrated_max": -20.0
          },
          "limits": {
            "max_gain_change_db_per_pass": 3.0
          }
        },
        {
          "id": "S3_LEADVOX_AUDIBILITY",
          "stage_id": "S3_STATIC_MIX",
          "instrument_id": "Lead_Vocal_Melodic",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "short_term_lufs_offset_vs_mixbus_min_db": -3.0,
            "short_term_lufs_offset_vs_mixbus_max_db": 3.0
          },
          "limits": {
            "max_gain_change_db_per_pass": 2.0
          }
        }
      ]
    },
    "S4_SPECTRAL_CLEANUP": {
      "id": "S4_SPECTRAL_CLEANUP",
      "name": "Spectral Cleanup",
      "contracts": [
        {
          "id": "S4_STEM_HPF_LPF",
          "stage_id": "S4_SPECTRAL_CLEANUP",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "use_instrument_profile_hpf_lpf_ranges": true
          },
          "limits": {
            "max_hpf_change_hz_per_pass": 40.0,
            "max_lpf_change_hz_per_pass": 4000.0
          }
        }
      ]
    },
    "S5_DYNAMICS": {
      "id": "S5_DYNAMICS",
      "name": "Dynamics & Level Automation",
      "contracts": [
        {
          "id": "S5_STEM_DYNAMICS_GENERIC",
          "stage_id": "S5_DYNAMICS",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "max_average_gain_reduction_db": 4.0,
            "max_peak_gain_reduction_db": 6.0
          },
          "limits": {
            "max_attack_ms": 50.0,
            "min_attack_ms": 1.0,
            "max_release_ms": 600.0,
            "min_release_ms": 20.0
          }
        },
        {
          "id": "S5_LEADVOX_DYNAMICS",
          "stage_id": "S5_DYNAMICS",
          "instrument_id": "Lead_Vocal_Melodic",
          "style_id": "*",
          "target_scope": "stem",
          "metrics": {
            "target_crest_factor_db_min": 10.0,
            "target_crest_factor_db_max": 26.0,
            "max_average_gain_reduction_db": 6.0
          },
          "limits": {
            "max_vocal_automation_change_db_per_pass": 3.0
          }
        }
      ]
    },
    "S6_SPACE_DEPTH": {
      "id": "S6_SPACE_DEPTH",
      "name": "Space / Depth by Buses",
      "contracts": [
        {
          "id": "S6_BUS_REVERB_STYLE",
          "stage_id": "S6_SPACE_DEPTH",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "bus",
          "metrics": {
            "use_style_profile_reverb": true,
            "reverb_return_lufs_offset_min_db": -24.0,
            "reverb_return_lufs_offset_max_db": -6.0
          },
          "limits": {
            "max_send_level_change_db_per_pass": 2.0
          }
        }
      ]
    },
    "S7_TONAL_BALANCE": {
      "id": "S7_TONAL_BALANCE",
      "name": "Multiband EQ / Tonal Balance",
      "contracts": [
        {
          "id": "S7_MIXBUS_TONAL_BALANCE",
          "stage_id": "S7_TONAL_BALANCE",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "mixbus",
          "metrics": {
            "use_style_profile_tonal_balance": true,
            "max_tonal_balance_error_db": 3.0
          },
          "limits": {
            "max_eq_change_db_per_band_per_pass": 1.5
          }
        }
      ]
    },
    "S8_MIXBUS_COLOR": {
      "id": "S8_MIXBUS_COLOR",
      "name": "Mix Bus Color",
      "contracts": [
        {
          "id": "S8_MIXBUS_COLOR_GENERIC",
          "stage_id": "S8_MIXBUS_COLOR",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "mixbus",
          "metrics": {
            "target_true_peak_range_dbtp_min": -4.0,
            "target_true_peak_range_dbtp_max": -2.0,
            "max_thd_percent": 3.0
          },
          "limits": {
            "max_additional_saturation_per_pass": 1.0
          }
        }
      ]
    },
    "S9_MASTERING": {
      "id": "S9_MASTERING",
      "name": "Mastering",
      "contracts": [
        {
          "id": "S9_MASTER_GENERIC",
          "stage_id": "S9_MASTERING",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "master",
          "metrics": {
            "use_style_profile_mastering_targets": true
          },
          "limits": {
            "max_limiter_gain_reduction_db": 4.0,
            "max_eq_change_db_per_band_per_pass": 2.0,
            "max_stereo_width_change_percent": 10.0
          }
        }
      ]
    },
    "S10_MASTER_QC": {
      "id": "S10_MASTER_QC",
      "name": "Master Stereo QC",
      "contracts": [
        {
          "id": "S10_MASTER_FINAL_LIMITS",
          "stage_id": "S10_MASTER_QC",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "master",
          "metrics": {
            "true_peak_max_dbtp": -1.0,
            "lufs_integrated_within_style_tolerance": true,
            "max_channel_loudness_diff_db": 0.5,
            "correlation_min": -0.2
          },
          "limits": {
            "max_eq_trim_db_per_band": 0.5,
            "max_output_ceiling_adjust_db": 0.2
          }
        }
      ]
    },
    "S11_REPORTING": {
      "id": "S11_REPORTING",
      "name": "Reporting",
      "contracts": [
        {
          "id": "S11_REPORT_GENERATION",
          "stage_id": "S11_REPORTING",
          "instrument_id": "*",
          "style_id": "*",
          "target_scope": "session",
          "metrics": {
            "export_report_json": true,
            "export_master_wav": true
          },
          "limits": {
            "allow_audio_changes": false
          }
        }
      ]
    }              
  }
}